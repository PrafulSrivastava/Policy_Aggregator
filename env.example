# =============================================================================
# Policy Aggregator - Environment Variables Example
# =============================================================================
# 
# INSTRUCTIONS:
# 1. Copy this file to .env: cp env.example .env
# 2. Update the values below with your actual configuration
# 3. Never commit .env to version control (it's in .gitignore)
# 
# All variables in .env are automatically loaded by Docker Compose via env_file
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
# These variables are used by the PostgreSQL Docker container
# They are also used to construct DATABASE_URL for the application

# PostgreSQL username (default: postgres)
POSTGRES_USER=postgres

# PostgreSQL password (CHANGE THIS IN PRODUCTION!)
# Use a strong password for production deployments
POSTGRES_PASSWORD=postgres

# PostgreSQL database name
POSTGRES_DB=policy_aggregator

# PostgreSQL port (default: 5432)
# This is the port exposed on the host machine
POSTGRES_PORT=5432

# =============================================================================
# APPLICATION - DATABASE CONNECTION
# =============================================================================
# Database connection URL for the FastAPI application
# 
# IMPORTANT NOTES:
# - For Docker: This will be automatically overridden to use 'db' as hostname
# - For local development: Use 'localhost' as hostname
# - Format: postgresql://[user]:[password]@[host]:[port]/[database]
# - For async SQLAlchemy, use: postgresql+asyncpg://...

DATABASE_URL=postgresql://postgres:postgres@localhost:5432/policy_aggregator

# =============================================================================
# APPLICATION - AUTHENTICATION (JWT)
# =============================================================================
# JWT (JSON Web Token) configuration for user authentication

# Secret key for JWT token signing (REQUIRED)
# MUST be changed in production! Use a strong random string (minimum 32 characters)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=change-me-in-production-use-strong-random-key

# JWT algorithm (default: HS256)
# Options: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
JWT_ALGORITHM=HS256

# JWT token expiration time in hours (default: 24)
# Tokens will expire after this many hours
JWT_EXPIRE_HOURS=24

# =============================================================================
# APPLICATION - GENERAL CONFIGURATION
# =============================================================================

# Application environment (default: development)
# Options: development, staging, production, test
# Affects logging, error handling, and feature flags
ENVIRONMENT=development

# Logging level (default: INFO)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# DEBUG: Detailed information for diagnosing problems
# INFO: General informational messages
# WARNING: Warning messages for potential issues
# ERROR: Error messages for failures
LOG_LEVEL=INFO

# Admin UI base URL
# Used for generating links in emails and redirects
# For Docker: http://localhost:8000
# For production: https://your-domain.com
ADMIN_UI_URL=http://localhost:8000

# Frontend URL (for OAuth redirects and CORS)
# Used for OAuth callback URLs and CORS configuration
# For Docker: http://localhost:3000
# For production: https://your-frontend-domain.com
FRONTEND_URL=http://localhost:3000

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# React frontend environment variables
# Note: VITE_* variables are embedded at build time, not runtime

# API base URL for frontend (REQUIRED at build time)
# This tells the React app where to find the backend API
# 
# For production with nginx proxy:
#   - Leave empty: VITE_API_BASE_URL=
#   - Or use relative path: VITE_API_BASE_URL=/
#   - Frontend will use relative URLs which nginx will proxy
# 
# For development without proxy:
#   - Use full URL: VITE_API_BASE_URL=http://localhost:8000
# 
# For production without proxy:
#   - Use full URL: VITE_API_BASE_URL=https://api.your-domain.com
VITE_API_BASE_URL=http://localhost:8000

# =============================================================================
# DOCKER - PORT CONFIGURATION
# =============================================================================
# Ports exposed on the host machine for Docker containers
# These are optional - defaults are shown

# Backend API port (default: 8000)
APP_PORT=8000

# Frontend port (default: 3000)
# Note: Frontend container exposes port 80 internally, mapped to this port
FRONTEND_PORT=3000

# =============================================================================
# EMAIL SERVICE (Resend) - OPTIONAL
# =============================================================================
# Configuration for sending email alerts via Resend API
# Leave empty if you don't need email functionality

# Resend API key
# Get from: https://resend.com/api-keys
# Format: re_xxxxxxxxxxxxx
RESEND_API_KEY=

# Email address to send alerts from
# Must be a verified domain in Resend
# Default: alerts@policyaggregator.com
EMAIL_FROM_ADDRESS=alerts@policyaggregator.com

# Admin email address (optional)
# Used for system notifications and error reports
ADMIN_EMAIL=

# =============================================================================
# GOOGLE OAUTH - OPTIONAL
# =============================================================================
# Configuration for Google OAuth 2.0 authentication
# Leave empty if you don't need Google OAuth login
# 
# Setup instructions:
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project or select existing
# 3. Enable Google+ API
# 4. Create OAuth 2.0 credentials (Web application)
# 5. Add authorized redirect URIs:
#    - Development: http://localhost:8000/auth/google/callback
#    - Production: https://your-domain.com/auth/google/callback

# Google OAuth Client ID
# Format: xxxxxx-xxxxx.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_ID=

# Google OAuth Client Secret
GOOGLE_OAUTH_CLIENT_SECRET=

# Google OAuth Redirect URI
# Must match one of the authorized redirect URIs in Google Cloud Console
# Development: http://localhost:8000/auth/google/callback
# Production: https://your-domain.com/auth/google/callback
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8000/auth/google/callback

# Alternative naming (also supported):
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# =============================================================================
# CORS CONFIGURATION - OPTIONAL
# =============================================================================
# Cross-Origin Resource Sharing (CORS) settings
# Comma-separated list of allowed origins

# Allowed CORS origins
# Format: http://localhost:8000,http://localhost:3000,https://your-domain.com
# Default includes common development ports
CORS_ORIGINS=http://localhost:8000,http://localhost:3000,http://localhost:5173

# =============================================================================
# ADVANCED CONFIGURATION (Rarely need to change)
# =============================================================================

# Email template directory (default: admin-ui/templates/emails)
# Path to email template files
EMAIL_TEMPLATE_DIR=admin-ui/templates/emails

# Server host (default: 0.0.0.0)
# 0.0.0.0 means listen on all network interfaces
HOST=0.0.0.0

# Server port (default: 8000)
# Internal port for the FastAPI application
# Note: Use APP_PORT for Docker port mapping
PORT=8000

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# 
# [ ] JWT_SECRET_KEY is a strong random string (32+ characters)
# [ ] POSTGRES_PASSWORD is strong and unique
# [ ] DATABASE_URL uses production database (not localhost)
# [ ] ENVIRONMENT is set to "production"
# [ ] LOG_LEVEL is set to "WARNING" or "ERROR"
# [ ] ADMIN_UI_URL points to production domain
# [ ] FRONTEND_URL points to production frontend domain
# [ ] VITE_API_BASE_URL is configured for production
# [ ] CORS_ORIGINS only includes production domains
# [ ] RESEND_API_KEY is set if using email alerts
# [ ] GOOGLE_OAUTH_* are set if using Google login
# [ ] All sensitive values are stored securely (not in code)
# =============================================================================

